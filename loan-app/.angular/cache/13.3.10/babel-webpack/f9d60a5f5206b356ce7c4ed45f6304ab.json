{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nexport let LoanCalculatorComponent = /*#__PURE__*/(() => {\n  class LoanCalculatorComponent {\n    /* Initialize Form */\n    constructor(fb) {\n      this.fb = fb;\n      this.monthlyPayment = 0;\n      this.interest = 0;\n      this.loanApp = \"Loan Application\";\n    }\n\n    ngOnInit() {\n      this.loanFormCalculator = this.fb.group({\n        // loanAmount: [''],\n        // interestRate: [''],\n        // numOfYears: ['']\n        // loanAmount: [ '', [ Validators.required] ],\n        // interestRate: [ '', [ Validators.required]],\n        // numOfYears: [ '', [ Validators.required]]\n        loanAmount: ['', [Validators.required, Validators.pattern(\"^^\\\\d{1,100}(\\\\.\\\\d{1,2})?$\")]],\n        interestRate: ['', [Validators.required, Validators.pattern(\"^^\\\\d{1,2}(\\\\.\\\\d{1,2})?$\")]],\n        numOfYears: ['', [Validators.required, Validators.pattern(\"^[0-9]*$\")]]\n      });\n    } // function for calculating the loan payment and interest amount\n\n\n    onSubmit() {\n      const formValues = this.loanFormCalculator.value;\n      const loanAmount = parseFloat(formValues.loanAmount);\n      const interestRate = parseFloat(formValues.interestRate);\n      const numOfYears = parseFloat(formValues.numOfYears);\n      /* variables  for loan formula calculating */\n\n      const numOfMonths = numOfYears * 12;\n      const ratePerPeriod = interestRate / 100 / 12;\n      /* Loan rate formula */\n\n      this.monthlyPayment = loanAmount * (ratePerPeriod * Math.pow(ratePerPeriod + 1, numOfMonths)) / (Math.pow(1 + ratePerPeriod, numOfMonths) - 1);\n      this.interest = this.monthlyPayment * numOfMonths - loanAmount;\n    } // loanAmount!: number;\n    // let errors: { [key: string]: any } = loanAmount.errors;\n    // hasError(errorCode: string, path?: loanAmount | (loanAmount | number)[]): boolean {\n    // }\n    //   getErrorMessage(errors) {\n    //     if (this.loanAmount.hasError('required')) {\n    //       return 'Loan amount is required.';\n    //     }\n    //     return this.loanAmount.hasError('loanAmount') ? 'Not a valid loan amount' : '';\n    //   }\n    // }\n    // Function to clear the entries\n\n\n    clearEntries() {\n      this.monthlyPayment = 0;\n      this.interest = 0;\n      this.loanFormCalculator.reset();\n    }\n\n  }\n\n  LoanCalculatorComponent.ɵfac = function LoanCalculatorComponent_Factory(t) {\n    return new (t || LoanCalculatorComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder));\n  };\n\n  LoanCalculatorComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoanCalculatorComponent,\n    selectors: [[\"app-loan-calculator\"]],\n    decls: 29,\n    vars: 5,\n    consts: [[2, \"text-align\", \"center\", \"margin-top\", \"-30px\", \"margin-bottom\", \"30px\", \"color\", \"#eeba30\", \"font-weight\", \"bold\"], [\"fxLayout\", \"row wrap\", 2, \"margin-bottom\", \"30px\"], [\"fxFlex\", \"\"], [1, \"mat-elevation-z0\"], [\"fxLayout\", \"column\", 1, \"loan-form\", 3, \"formGroup\", \"ngSubmit\"], [\"fxFlex\", \"\", \"appearance\", \"fill\"], [\"for\", \"loanAmount\"], [\"type\", \"text\", \"name\", \"loanAmount\", \"placeholder\", \"ex: 10000.99\", \"matInput\", \"\", \"formControlName\", \"loanAmount\"], [\"type\", \"text\", \"name\", \"interestRate\", \"placeholder\", \"ex: 4.50\", \"matInput\", \"\", \"formControlName\", \"interestRate\"], [\"type\", \"text\", \"name\", \"numOfYears\", \"matInput\", \"\", \"formControlName\", \"numOfYears\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"disabled\"], [\"fxLayout\", \"column\", 1, \"mat-elevation-z0\"], [3, \"monthlyPayment\"], [3, \"interest\"], [\"mat-button\", \"\", 1, \"clear-button\", 2, \"background-color\", \"#c0c0c0\", \"color\", \"#000000\", \"float\", \"right\", 3, \"click\"]],\n    template: function LoanCalculatorComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\")(1, \"h1\", 0);\n        i0.ɵɵtext(2);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(3, \"div\", 1)(4, \"div\", 2)(5, \"mat-card\", 3)(6, \"mat-card-content\")(7, \"form\", 4);\n        i0.ɵɵlistener(\"ngSubmit\", function LoanCalculatorComponent_Template_form_ngSubmit_7_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(8, \"mat-form-field\", 5)(9, \"mat-label\", 6);\n        i0.ɵɵtext(10, \"Loan Amount\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(11, \"input\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"mat-form-field\", 5)(13, \"mat-label\");\n        i0.ɵɵtext(14, \"Interest Rate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(15, \"input\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"mat-form-field\", 5)(17, \"mat-label\");\n        i0.ɵɵtext(18, \"Number of Years\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(19, \"input\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"button\", 10);\n        i0.ɵɵtext(21, \" Submit \");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(22, \"div\", 2)(23, \"mat-card\", 11)(24, \"mat-card-content\");\n        i0.ɵɵelement(25, \"app-monthly-payment\", 12)(26, \"app-interest\", 13);\n        i0.ɵɵelementStart(27, \"button\", 14);\n        i0.ɵɵlistener(\"click\", function LoanCalculatorComponent_Template_button_click_27_listener() {\n          return ctx.clearEntries();\n        });\n        i0.ɵɵtext(28, \" Clear \");\n        i0.ɵɵelementEnd()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", ctx.loanApp, \" \");\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"formGroup\", ctx.loanFormCalculator);\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"disabled\", ctx.loanFormCalculator.invalid);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"monthlyPayment\", ctx.monthlyPayment);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"interest\", ctx.interest);\n      }\n    },\n    styles: [\"(()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  {// webpackBootstrap \\\"use strict\\\";})()[_ngcontent-%COMP%] ;{%BLOCK%}\"]\n  });\n  return LoanCalculatorComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}